{"ast":null,"code":"var _jsxFileName = \"/Users/Raid/test/testpApp3/SafeWalletFix/frontend/src/containerComponents/multisigEtherWallet/ModalCheckDailyLimit.js\";\nimport React from 'react';\nimport ModalContent from '../../presentationalComponents/ModalContent.js';\nimport CheckDailyLimitForm from '../../presentationalComponents/CheckDailyLimitForm.js';\nimport '../../css/Modal.css';\nimport { connect } from 'react-redux';\n\nclass ModalCheckDailyLimit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      event.preventDefault();\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n\n      if (name === 'ownerPub') {\n        if (event.target.validity.tooShort) {\n          event.target.setCustomValidity('Public key has to be 42 characters');\n        } else if (event.target.validity.patternMismatch) {\n          event.target.setCustomValidity('Public key has to start with \"0x\"');\n        } else {\n          event.target.setCustomValidity('');\n        }\n      }\n\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.checkLimit(this.state.ownerPub, this.props.tokenSymbol);\n      document.getElementById('CheckDailyLimitERC').reset();\n    };\n\n    this.openModal = () => {\n      this.setState({\n        isOpen: true\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        isOpen: false\n      });\n    };\n\n    this.onKeyDown = event => {\n      return event.keyCode === 27 && this.closeModal();\n    };\n\n    this.onClickAway = event => {\n      if (this.modalNode && this.modalNode.contains(event.target)) return;\n      this.closeModal();\n    };\n\n    this.checkLimit = ownerPub => {\n      let modal = this;\n      let multisig = this.props.multisig;\n      multisig.methods.limits(ownerPub).call({\n        from: ownerPub\n      }).then(limit => {\n        modal.setState({\n          limit: limit.dailyLimit,\n          dailyLimitReceipt: true\n        });\n        modal.openModal();\n      });\n    };\n\n    this.state = {\n      limit: '',\n      ownerPub: '',\n      isOpen: false,\n      dailyLimitReceipt: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(CheckDailyLimitForm, {\n      handleSubmit: this.handleSubmit,\n      handleInputChange: this.handleInputChange,\n      errors: this.state.errors,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), this.state.isOpen && React.createElement(ModalContent, {\n      closeModal: this.closeModal,\n      onKeyDown: this.onKeyDown,\n      onClickAway: this.onClickAway,\n      modalRef: n => this.modalNode = n,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.state.dailyLimitReceipt ? React.createElement(\"p\", {\n      className: \"modalTextTx\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Current Ether limit is: \", this.state.limit) : null));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    multisig: state.data.multisig\n  };\n}\n\nexport default connect(mapStateToProps)(ModalCheckDailyLimit);","map":{"version":3,"sources":["/Users/Raid/test/testpApp3/SafeWalletFix/frontend/src/containerComponents/multisigEtherWallet/ModalCheckDailyLimit.js"],"names":["React","ModalContent","CheckDailyLimitForm","connect","ModalCheckDailyLimit","Component","constructor","props","handleInputChange","event","preventDefault","target","name","value","validity","tooShort","setCustomValidity","patternMismatch","setState","handleSubmit","checkLimit","state","ownerPub","tokenSymbol","document","getElementById","reset","openModal","isOpen","closeModal","onKeyDown","keyCode","onClickAway","modalNode","contains","modal","multisig","methods","limits","call","from","then","limit","dailyLimit","dailyLimitReceipt","render","errors","n","mapStateToProps","data"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gDAAzB;AACA,OAAOC,mBAAP,MAAgC,uDAAhC;AACA,OAAO,qBAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,oBAAN,SAAmCJ,KAAK,CAACK,SAAzC,CAAmD;AAE/CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUnBC,iBAVmB,GAUEC,KAAD,IAAW;AAC3BA,MAAAA,KAAK,CAACC,cAAN;AAD2B,4BAEHD,KAAK,CAACE,MAFH;AAAA,YAEnBC,IAFmB,iBAEnBA,IAFmB;AAAA,YAEbC,KAFa,iBAEbA,KAFa;;AAI3B,UAAID,IAAI,KAAK,UAAb,EAAyB;AACrB,YAAIH,KAAK,CAACE,MAAN,CAAaG,QAAb,CAAsBC,QAA1B,EAAoC;AAChCN,UAAAA,KAAK,CAACE,MAAN,CAAaK,iBAAb,CAA+B,oCAA/B;AACH,SAFD,MAEO,IAAIP,KAAK,CAACE,MAAN,CAAaG,QAAb,CAAsBG,eAA1B,EAA2C;AAC9CR,UAAAA,KAAK,CAACE,MAAN,CAAaK,iBAAb,CAA+B,mCAA/B;AACH,SAFM,MAEA;AACHP,UAAAA,KAAK,CAACE,MAAN,CAAaK,iBAAb,CAA+B,EAA/B;AACH;AACJ;;AAED,WAAKE,QAAL,CAAc;AAAE,SAACN,IAAD,GAAQC;AAAV,OAAd;AACH,KAzBkB;;AAAA,SA2BnBM,YA3BmB,GA2BHV,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAKU,UAAL,CAAgB,KAAKC,KAAL,CAAWC,QAA3B,EAAqC,KAAKf,KAAL,CAAWgB,WAAhD;AACAC,MAAAA,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,KAA9C;AACH,KA/BkB;;AAAA,SAiCnBC,SAjCmB,GAiCP,MAAM;AACd,WAAKT,QAAL,CAAc;AACVU,QAAAA,MAAM,EAAE;AADE,OAAd;AAGH,KArCkB;;AAAA,SAuCnBC,UAvCmB,GAuCN,MAAM;AACf,WAAKX,QAAL,CAAc;AACVU,QAAAA,MAAM,EAAE;AADE,OAAd;AAGH,KA3CkB;;AAAA,SA6CnBE,SA7CmB,GA6CNrB,KAAD,IAAW;AACnB,aAAOA,KAAK,CAACsB,OAAN,KAAkB,EAAlB,IAAwB,KAAKF,UAAL,EAA/B;AACH,KA/CkB;;AAAA,SAiDnBG,WAjDmB,GAiDJvB,KAAD,IAAW;AACrB,UAAI,KAAKwB,SAAL,IAAkB,KAAKA,SAAL,CAAeC,QAAf,CAAwBzB,KAAK,CAACE,MAA9B,CAAtB,EAA6D;AAC7D,WAAKkB,UAAL;AACH,KApDkB;;AAAA,SAsDnBT,UAtDmB,GAsDLE,QAAD,IAAc;AACvB,UAAIa,KAAK,GAAG,IAAZ;AACA,UAAIC,QAAQ,GAAG,KAAK7B,KAAL,CAAW6B,QAA1B;AACAA,MAAAA,QAAQ,CAACC,OAAT,CAAiBC,MAAjB,CAAwBhB,QAAxB,EAAkCiB,IAAlC,CAAuC;AAAEC,QAAAA,IAAI,EAAElB;AAAR,OAAvC,EAA2DmB,IAA3D,CAAiEC,KAAK,IAAI;AAEtEP,QAAAA,KAAK,CAACjB,QAAN,CAAe;AACXwB,UAAAA,KAAK,EAAEA,KAAK,CAACC,UADF;AAEXC,UAAAA,iBAAiB,EAAE;AAFR,SAAf;AAIAT,QAAAA,KAAK,CAACR,SAAN;AACC,OAPL;AASH,KAlEkB;;AAEf,SAAKN,KAAL,GAAa;AACTqB,MAAAA,KAAK,EAAE,EADE;AAETpB,MAAAA,QAAQ,EAAE,EAFD;AAGTM,MAAAA,MAAM,EAAE,KAHC;AAITgB,MAAAA,iBAAiB,EAAE;AAJV,KAAb;AAMH;;AA4DDC,EAAAA,MAAM,GAAG;AAEP,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,mBAAD;AACI,MAAA,YAAY,EAAE,KAAK1B,YADvB;AAEI,MAAA,iBAAiB,EAAE,KAAKX,iBAF5B;AAGI,MAAA,MAAM,EAAE,KAAKa,KAAL,CAAWyB,MAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAMI,KAAKzB,KAAL,CAAWO,MAAX,IACA,oBAAC,YAAD;AACI,MAAA,UAAU,EAAE,KAAKC,UADrB;AAEI,MAAA,SAAS,EAAE,KAAKC,SAFpB;AAGI,MAAA,WAAW,EAAE,KAAKE,WAHtB;AAII,MAAA,QAAQ,EAAEe,CAAC,IAAI,KAAKd,SAAL,GAAiBc,CAJpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKK,KAAK1B,KAAL,CAAWuB,iBAAX,GACD;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAoD,KAAKvB,KAAL,CAAWqB,KAA/D,CADC,GAEC,IAPN,CAPJ,CADJ;AAoBD;;AA5F8C;;AA+FnD,SAASM,eAAT,CAAyB3B,KAAzB,EAAgC;AAC5B,SAAO;AACHe,IAAAA,QAAQ,EAAEf,KAAK,CAAC4B,IAAN,CAAWb;AADlB,GAAP;AAGH;;AAED,eAAejC,OAAO,CAAC6C,eAAD,CAAP,CAAyB5C,oBAAzB,CAAf","sourcesContent":["import React from 'react';\nimport ModalContent from '../../presentationalComponents/ModalContent.js';\nimport CheckDailyLimitForm from '../../presentationalComponents/CheckDailyLimitForm.js';\nimport '../../css/Modal.css';\nimport { connect } from 'react-redux';\n\nclass ModalCheckDailyLimit extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            limit: '',\n            ownerPub: '',\n            isOpen: false,\n            dailyLimitReceipt: false\n        };\n    }\n\n    handleInputChange = (event) => {\n        event.preventDefault();\n        const { name, value } = event.target;\n\n        if (name === 'ownerPub') {\n            if (event.target.validity.tooShort) {\n                event.target.setCustomValidity('Public key has to be 42 characters');\n            } else if (event.target.validity.patternMismatch) {\n                event.target.setCustomValidity('Public key has to start with \"0x\"');\n            } else {\n                event.target.setCustomValidity('');\n            }  \n        }\n\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.checkLimit(this.state.ownerPub, this.props.tokenSymbol);\n        document.getElementById('CheckDailyLimitERC').reset();\n    }\n    \n    openModal = () => {\n        this.setState({ \n            isOpen: true, \n        });\n    };\n\n    closeModal = () => {\n        this.setState({ \n            isOpen: false, \n        });\n    };\n\n    onKeyDown = (event) => {\n        return event.keyCode === 27 && this.closeModal();\n    }\n    \n    onClickAway = (event) => {\n        if (this.modalNode && this.modalNode.contains(event.target)) return;\n        this.closeModal();\n    };\n\n    checkLimit = (ownerPub) => {\n        let modal = this;\n        let multisig = this.props.multisig;\n        multisig.methods.limits(ownerPub).call({ from: ownerPub }).then( limit => {\n\n            modal.setState({ \n                limit: limit.dailyLimit,\n                dailyLimitReceipt: true\n            });\n            modal.openModal();\n            }\n        );\n    }\n\n    render() {\n\n      return (\n          <span>\n              <CheckDailyLimitForm \n                  handleSubmit={this.handleSubmit} \n                  handleInputChange={this.handleInputChange}\n                  errors={this.state.errors}/>\n              {\n              this.state.isOpen && \n              <ModalContent \n                  closeModal={this.closeModal} \n                  onKeyDown={this.onKeyDown}\n                  onClickAway={this.onClickAway}\n                  modalRef={n => this.modalNode = n}> \n                  {this.state.dailyLimitReceipt ? \n                  <p className=\"modalTextTx\">Current Ether limit is: {this.state.limit}</p> \n                  : null} \n              </ModalContent>\n              }\n          </span>\n      );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return { \n        multisig: state.data.multisig\n    };\n}\n\nexport default connect(mapStateToProps)(ModalCheckDailyLimit);"]},"metadata":{},"sourceType":"module"}