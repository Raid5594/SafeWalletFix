{"ast":null,"code":"var _jsxFileName = \"/Users/Raid/test/testpApp3/SafeWalletFix/frontend/src/containerComponents/erc20/ModalERCSafetyAddress.js\";\nimport React from 'react';\nimport ModalContent from '../../presentationalComponents/ModalContent.js';\nimport SafeAddressFormERC from '../../presentationalComponents/SafeAddressFormERC.js';\nimport '../../css/Modal.css';\n\nclass ModalERCSafetyAddress extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const target = event.target;\n      const value = target.value;\n      const name = target.name;\n\n      if (name === 'addressToCheck') {\n        if (event.target.validity.tooShort) {\n          event.target.setCustomValidity('Public key has to be 42 characters');\n        } else if (event.target.validity.patternMismatch) {\n          event.target.setCustomValidity('Public key has to start with \"0x\"');\n        } else {\n          event.target.setCustomValidity('');\n        }\n      }\n\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onHandleClick = event => {\n      event.preventDefault();\n      this.props.multisigERC20Token.methods.safetyKeys(this.state.addressToCheck, this.props.tokenSymbol).call({\n        from: this.state.address\n      }, (error, safetyAddress) => {\n        if (error) {\n          console.log(error);\n        } else {\n          console.log(safetyAddress);\n          document.getElementById('SafetyFormERC').reset();\n          this.setState({\n            safetyAddress: safetyAddress\n          });\n          this.toggle();\n        }\n      });\n    };\n\n    this.toggle = () => {\n      this.setState({\n        isOpen: !this.state.isOpen\n      });\n    };\n\n    this.onKeyDown = event => {\n      return event.keyCode === 27 && this.toggle();\n    };\n\n    this.onClickAway = event => {\n      if (this.modalNode && this.modalNode.contains(event.target)) return;\n      this.toggle();\n    };\n\n    this.state = {\n      addressToCheck: '',\n      address: '',\n      safetyAddress: '',\n      isOpen: false\n    };\n  }\n\n  static getDerivedStateFromProps(props) {\n    return {\n      address: props.address\n    };\n  }\n\n  render() {\n    return React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(SafeAddressFormERC, {\n      onHandleClick: this.onHandleClick,\n      handleInputChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), this.state.isOpen && React.createElement(ModalContent, {\n      toggle: this.toggle,\n      onKeyDown: this.onKeyDown,\n      onClickAway: this.onClickAway,\n      modalRef: n => this.modalNode = n,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"modalText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"modalTextBlack\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Your selected token safety address is:\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), this.state.safetyAddress)));\n  }\n\n}\n\nexport default ModalERCSafetyAddress;","map":{"version":3,"sources":["/Users/Raid/test/testpApp3/SafeWalletFix/frontend/src/containerComponents/erc20/ModalERCSafetyAddress.js"],"names":["React","ModalContent","SafeAddressFormERC","ModalERCSafetyAddress","Component","constructor","props","handleInputChange","event","target","value","name","validity","tooShort","setCustomValidity","patternMismatch","setState","onHandleClick","preventDefault","multisigERC20Token","methods","safetyKeys","state","addressToCheck","tokenSymbol","call","from","address","error","safetyAddress","console","log","document","getElementById","reset","toggle","isOpen","onKeyDown","keyCode","onClickAway","modalNode","contains","getDerivedStateFromProps","render","n"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ModalContent from '../../presentationalComponents/ModalContent.js';\nimport SafeAddressFormERC from '../../presentationalComponents/SafeAddressFormERC.js';\nimport '../../css/Modal.css';\n\nclass ModalERCSafetyAddress extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            addressToCheck: '',\n            address: '',\n            safetyAddress: '',\n            isOpen: false\n        };\n    }\n\n    static getDerivedStateFromProps(props) {\n        return {address: props.address };\n    }\n\n    handleInputChange = (event) => {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        if (name === 'addressToCheck') {\n            if (event.target.validity.tooShort) {\n                event.target.setCustomValidity('Public key has to be 42 characters');\n            } else if (event.target.validity.patternMismatch) {\n                event.target.setCustomValidity('Public key has to start with \"0x\"');\n            } else {\n                event.target.setCustomValidity('');\n            }  \n        }\n\n        this.setState({\n          [name]: value\n        });\n    }\n\n    onHandleClick = (event) => {\n        event.preventDefault();\n        \n        this.props.multisigERC20Token.methods.safetyKeys(this.state.addressToCheck, this.props.tokenSymbol).call({ from: this.state.address }, (error, safetyAddress) => {\n            if (error) {\n                console.log(error);\n            } else {\n                console.log(safetyAddress);\n                document.getElementById('SafetyFormERC').reset();\n                this.setState({ safetyAddress: safetyAddress});\n                this.toggle();\n            }\n        });\n    }\n\n    toggle = () => {\n        this.setState({ \n            isOpen: !this.state.isOpen\n        });\n    };\n\n    onKeyDown = (event) => {\n        return event.keyCode === 27 && this.toggle();\n    }\n  \n    onClickAway = (event) => {\n        if (this.modalNode && this.modalNode.contains(event.target)) return;\n        this.toggle();\n    };\n\n    render() {\n\n        return (\n            <span>\n                <SafeAddressFormERC \n                onHandleClick={this.onHandleClick}\n                handleInputChange={this.handleInputChange}/>\n                {\n                this.state.isOpen && \n                <ModalContent \n                toggle={this.toggle} \n                onKeyDown={this.onKeyDown}\n                onClickAway={this.onClickAway}\n                modalRef={n => this.modalNode = n}> \n                <p className=\"modalText\">\n                <span className=\"modalTextBlack\">Your selected token safety address is:</span>\n                <br/>\n                {this.state.safetyAddress}\n                </p> \n                </ModalContent>\n                }\n            </span>\n        );\n    }\n}\n\nexport default ModalERCSafetyAddress;"]},"metadata":{},"sourceType":"module"}